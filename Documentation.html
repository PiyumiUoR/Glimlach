<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glimlach Documentation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2, h3, h4, h5, h6 {
            color: #333;
        }

        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
        }

        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>

<h1>Glimlach Documentation</h1>

<h2>Table of Contents</h2>
<ol>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#features">Features</a></li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#configuration-file">Configuration File</a></li>
    <li><a href="#placeholder-replacement">Placeholder Replacement</a></li>
    <li><a href="#running-the-script">Running the Script</a></li>
    <li><a href="#error-handling">Error Handling</a></li>
    <li><a href="#logging">Logging</a></li>
    <li><a href="#notes-and-considerations">Notes and Considerations</a></li>
</ol>

<h2 id="introduction">1. Introduction</h2>
<p>
    Glimlach is a cybersecurity automation tool designed to streamline the execution of multiple open-source security tools
    in a single scan. The Glimlach Python script, represented by the file <code>cli.py</code>, is an essential component of Glimlach.
    It automates the execution of Docker images based on a provided JSON configuration file, making it easy to run cybersecurity tools in parallel.
</p>

<h2 id="features">2. Features</h2>
<ul>
    <li>Parallel Execution: The script utilizes the multiprocessing module to execute Docker images concurrently, enhancing overall performance.</li>
    <li>Configuration File: Docker images and their configurations are specified in a JSON configuration file, making it easy to manage and customize the execution process.</li>
    <li>Placeholder Replacement: The script supports the replacement of placeholders in the configuration file with actual values, allowing for dynamic configuration.</li>
    <li>Logging: The script provides informative logging at different levels (INFO, ERROR) to track the progress and identify any issues during execution.</li>
    <li>Persistence: Completed Docker images are tracked in a file (completed_images.txt) to prevent redundant executions.</li>
</ul>


<h2 id="usage">3. Usage</h2>
<p>
    The program is hosted on Pypi on  <a href="https://pypi.org/project/glimlach/" target="_blank">Glimlach PyPI page</a>.
    It is executed from the command line, and it requires a path to a JSON configuration file as an argument.

    Install Glimlach using pip:

    <pre>
        <code>
            pip install glimlach
        </code>
    </pre>
</p>

<h2 id="configuration-file">4. Configuration File</h2>
<p>
    The configuration file is a JSON file that contains the following sections:
    <ul>
        <li><strong>Values:</strong> Key-value pairs used for replacing placeholders in the configuration file.</li>
        <li><strong>Images:</strong> An array of Docker image configurations. Each configuration includes the Docker image ID, command line arguments, and other necessary details.</li>
        <li><strong>Output-directory:</strong> The directory where output files generated by Docker images will be stored.</li>
    </ul>
</p>

<h2 id="placeholder-replacement">5. Placeholder Replacement</h2>
<p>
    To make the configuration file more dynamic, placeholders can be used and replaced with actual values.
    Placeholders should be enclosed in &lt;&gt; brackets, and corresponding values are provided in the values section of the configuration file.
    In the provided configuration file example:
    <pre>
        &lt;ip&gt; is replaced with the value 123.456.101.1.
        &lt;out_dir&gt; is replaced with the value /Users/your-username/Desktop/.
        &lt;web&gt; is replaced with the value https://example.com.
    </pre>
</p>


<h2 id="running-the-script">6. Running the Script</h2>
<p>
    The proggram is executed from the command line using the <code>glimlach</code> command, followed by the path to the configuration file.
    <pre>
        <code>glimlach path/to/your_config_file.json</code>
    </pre>
</p>

<h2 id="error-handling">7. Error Handling</h2>
<p>
    Errors during the execution of Docker images are caught, logged, and the script continues with the remaining images.
    This ensures that the script does not terminate prematurely due to a single failure.
</p>

<h2 id="logging">8. Logging</h2>
<p>
    The script uses Python's logging module to provide detailed information about the execution process.
    Information is logged at the INFO level, while errors are logged at the ERROR level.
</p>


<h2 id="notes-and-considerations">9. Notes and Considerations</h2>
<ul>
    <li><strong>Completed Images Tracking:</strong> The script maintains a file (completed_images.txt) to track completed Docker images.
        This prevents unnecessary re-execution of images.</li>
    <li><strong>Dependency:</strong> Ensure that Docker is installed and available in the system's PATH.</li>
    <li><strong>Concurrency:</strong> The script leverages multiprocessing to run Docker images concurrently.
        Adjust the number of processes based on system capabilities.</li>
</ul>

<p>
    This documentation provides an overview of the features and usage of the Glimlach.
    For more detailed information, refer to the inline comments in the script and the provided configuration file example.
    Customize the configuration file according to your specific Docker image execution requirements.
</p>

</body>
</html>
